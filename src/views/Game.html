<div class="gameComponent">
    <form v-if="$store.state.user.name === ''" class="addNameIfDontExist">
        Enter name before You join
        <input type="text" v-model="userName" maxlength="20" autofocus autocomplete="off" autocapitalize="off" spellcheck="false">
        <button type="submit" @click="changeUserName">Save</button>
    </form>
    <div v-if="game.finished" class="gameFinishedMenu">
        <div v-if="game.owner && game.owner.id === this.$store.state.user.id">
            <button type="button" class="gameStarter" @click="startGame">
                Start next game
            </button>
        </div>
        <div v-else class="waitNewGame">
            Wait for owner to start new game
        </div>
        <h3 class="gameFinishedMenu--gameWonPlayer">Game won by: {{ winner.user.name }}!</h3>
        <ol class="gameFinishedMenu--playersPoints">
            <li v-for="player in game.players" :key="player.id" class="gameFinishedMenu--playersPoints__player">
                {{ player.points }}
                {{ player.user.name }}
            </li>
        </ol>
    </div>
    <div v-if="!game.active" class="gameComponent__modal">
        <div v-if="game.owner && game.owner.id === this.$store.state.user.id">
            <button type="button" class="gameStarter" @click="startGame">
                Start game
            </button>
        </div>
        <div class="waitPanel" v-else>
            Wait for owner to start game
        </div>
    </div>
    <div id="game" class="gameBox">
        <div
            v-for="msg in game.messages" :key="msg.id" class="userMessageBox"
            :style="{top: msg.y + '%', left: msg.x + '%'}"
            :class="{'userMessageBox--rotate': msg.type === 'ROTATING'}">
            <h4>{{msg.user.name}}</h4>
            {{msg.text}}
        </div>
        <p
            id="word"
            class="wordGenerator"
            :style="{'margin-top': game.currentWordOptions.y + '%', 'margin-left': game.currentWordOptions.x + '%'}"
            :class="{'wordGenerator--rotate': game.currentWordType === 'ROTATING'}">
            <span v-for="letter in game.currentWord" :key="letter.index">{{letter}}</span>
        </p>
    </div>
    <div>
        <form @submit.prevent="sendMessage" class="sendMessageBox">
            <button type="button" class="hamburger" @click="showHideNavigation">
                <div class="hamburger--box">
                    <div class="hamburger--inner"></div>
                </div>
            </button>
            <div v-if="isNavigationActive" class="navigation">
                <ul class="navigationList">
                    <li class="navigationList--player navigationList--listElement">Players</li>
                    <li class="navigationList--listElement" v-for="player in game.players" :key="player.index">
                        {{ player.points }}
                        {{ player.user.name }}
                    </li>
                    <li class="navigationList--spectator navigationList--listElement">Spectators</li>
                    <li class="navigationList--listElement" v-for="player in game.spectators" :key="player.index">
                        {{ player.name }}
                    </li>
                </ul>
            </div>
            <input v-model=inputValue type="text" class="sendMessageBox--sendMessage" autofocus autocomplete="off"
                   autocapitalize="off" spellcheck="false">
            <button type="submit" class="sendMessageBox--confirm">Confirm</button>
        </form>
    </div>
</div>