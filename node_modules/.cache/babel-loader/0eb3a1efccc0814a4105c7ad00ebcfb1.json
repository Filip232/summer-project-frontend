{"remainingRequest":"C:\\Users\\Filip\\projects\\kosztorysy\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Filip\\projects\\kosztorysy\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\Filip\\projects\\kosztorysy\\src\\router\\index.js","dependencies":[{"path":"C:\\Users\\Filip\\projects\\kosztorysy\\src\\router\\index.js","mtime":1595921284979},{"path":"C:\\Users\\Filip\\projects\\kosztorysy\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1593813924973},{"path":"C:\\Users\\Filip\\projects\\kosztorysy\\node_modules\\babel-loader\\lib\\index.js","mtime":1593813924945},{"path":"C:\\Users\\Filip\\projects\\kosztorysy\\node_modules\\eslint-loader\\index.js","mtime":1593813938076}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IFZ1ZVJvdXRlciBmcm9tICd2dWUtcm91dGVyJzsKaW1wb3J0IEhvbWUgZnJvbSAnLi4vdmlld3MvSG9tZS52dWUnOwppbXBvcnQgTG9naW4gZnJvbSAnLi4vdmlld3MvTG9naW4udnVlJzsKaW1wb3J0IHN0b3JhZ2UgZnJvbSAnQC9zdG9yZSc7CmltcG9ydCBFc3RpbWF0ZSBmcm9tICIuLi92aWV3cy9Fc3RpbWF0ZSI7CmltcG9ydCBDcmVhdGVFc3RpbWF0ZSBmcm9tICIuLi92aWV3cy9DcmVhdGUtRXN0aW1hdGUiOwpWdWUudXNlKFZ1ZVJvdXRlcik7CnZhciByb3V0ZXMgPSBbewogIHBhdGg6ICcvJywKICBuYW1lOiAnTG9naW4nLAogIGNvbXBvbmVudDogTG9naW4sCiAgbWV0YTogewogICAgcmVxdWlyZXNBdXRob3Jpc2F0aW9uOiB0cnVlLAogICAgaXNCYWNrOiBmYWxzZQogIH0KfSwgewogIHBhdGg6ICcvaG9tZScsCiAgbmFtZTogJ0hvbWUnLAogIGNvbXBvbmVudDogSG9tZSwKICBtZXRhOiB7CiAgICBpc0JhY2s6IGZhbHNlCiAgfQp9LCB7CiAgcGF0aDogJy9yZWdpc3RlcicsCiAgbmFtZTogJ1JlZ2lzdGVyJywKICAvLyByb3V0ZSBsZXZlbCBjb2RlLXNwbGl0dGluZwogIC8vIHRoaXMgZ2VuZXJhdGVzIGEgc2VwYXJhdGUgY2h1bmsgKGFib3V0LltoYXNoXS5qcykgZm9yIHRoaXMgcm91dGUKICAvLyB3aGljaCBpcyBsYXp5LWxvYWRlZCB3aGVuIHRoZSByb3V0ZSBpcyB2aXNpdGVkLgogIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgcmV0dXJuIGltcG9ydCgKICAgIC8qIHdlYnBhY2tDaHVua05hbWU6ICJhYm91dCIgKi8KICAgICcuLi92aWV3cy9SZWdpc3Rlci52dWUnKTsKICB9LAogIG1ldGE6IHsKICAgIHJlcXVpcmVzQXV0aG9yaXNhdGlvbjogdHJ1ZSwKICAgIGlzQmFjazogZmFsc2UKICB9Cn0sIHsKICBwYXRoOiAnL2VzdGltYXRlJywKICBuYW1lOiAnRXN0aW1hdGUnLAogIGNvbXBvbmVudDogRXN0aW1hdGUsCiAgbWV0YTogewogICAgaXNCYWNrOiBmYWxzZQogIH0KfSwgewogIHBhdGg6ICcvY3JlYXRlLWVzdGltYXRlJywKICBuYW1lOiAnQ3JlYXRlLUVzdGltYXRlJywKICBjb21wb25lbnQ6IENyZWF0ZUVzdGltYXRlLAogIG1ldGE6IHsKICAgIGlzQmFjazogdHJ1ZQogIH0KfV07CnZhciByb3V0ZXIgPSBuZXcgVnVlUm91dGVyKHsKICBtb2RlOiAnaGlzdG9yeScsCiAgYmFzZTogcHJvY2Vzcy5lbnYuQkFTRV9VUkwsCiAgcm91dGVzOiByb3V0ZXMKfSk7CnJvdXRlci5iZWZvcmVFYWNoKGZ1bmN0aW9uICh0bywgZnJvbSwgbmV4dCkgewogIGNvbnNvbGUubG9nKHRvKTsKICBjb25zb2xlLmxvZyhmcm9tKTsKCiAgaWYgKHN0b3JhZ2Uuc3RhdGUuYWN0aXZlVXNlciAmJiB0by5tZXRhLnJlcXVpcmVzQXV0aG9yaXNhdGlvbikgewogICAgcmV0dXJuIG5leHQoJy9ob21lJyk7CiAgfSBlbHNlIGlmICghc3RvcmFnZS5zdGF0ZS5hY3RpdmVVc2VyICYmICF0by5tZXRhLnJlcXVpcmVzQXV0aG9yaXNhdGlvbikgewogICAgcmV0dXJuIG5leHQoJy8nKTsKICB9CgogIHJldHVybiBuZXh0KCk7Cn0pOwpleHBvcnQgZGVmYXVsdCByb3V0ZXI7"},{"version":3,"sources":["C:/Users/Filip/projects/kosztorysy/src/router/index.js"],"names":["Vue","VueRouter","Home","Login","storage","Estimate","CreateEstimate","use","routes","path","name","component","meta","requiresAuthorisation","isBack","router","mode","base","process","env","BASE_URL","beforeEach","to","from","next","console","log","state","activeUser"],"mappings":";AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,IAAP,MAAiB,mBAAjB;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AACA,OAAOC,OAAP,MAAoB,SAApB;AACA,OAAOC,QAAP,MAAqB,mBAArB;AACA,OAAOC,cAAP,MAA2B,0BAA3B;AAEAN,GAAG,CAACO,GAAJ,CAAQN,SAAR;AAEA,IAAMO,MAAM,GAAG,CACX;AACIC,EAAAA,IAAI,EAAE,GADV;AAEIC,EAAAA,IAAI,EAAE,OAFV;AAGIC,EAAAA,SAAS,EAAER,KAHf;AAIIS,EAAAA,IAAI,EAAE;AACFC,IAAAA,qBAAqB,EAAE,IADrB;AAEFC,IAAAA,MAAM,EAAE;AAFN;AAJV,CADW,EAUX;AACIL,EAAAA,IAAI,EAAE,OADV;AAEIC,EAAAA,IAAI,EAAE,MAFV;AAGIC,EAAAA,SAAS,EAAET,IAHf;AAIIU,EAAAA,IAAI,EAAE;AACFE,IAAAA,MAAM,EAAE;AADN;AAJV,CAVW,EAkBX;AACIL,EAAAA,IAAI,EAAE,WADV;AAEIC,EAAAA,IAAI,EAAE,UAFV;AAGI;AACA;AACA;AACAC,EAAAA,SAAS,EAAE;AAAA,WAAM;AAAO;AAAgC,2BAAvC,CAAN;AAAA,GANf;AAOIC,EAAAA,IAAI,EAAE;AACFC,IAAAA,qBAAqB,EAAE,IADrB;AAEFC,IAAAA,MAAM,EAAE;AAFN;AAPV,CAlBW,EA8BX;AACIL,EAAAA,IAAI,EAAE,WADV;AAEIC,EAAAA,IAAI,EAAE,UAFV;AAGIC,EAAAA,SAAS,EAAEN,QAHf;AAIIO,EAAAA,IAAI,EAAE;AACFE,IAAAA,MAAM,EAAE;AADN;AAJV,CA9BW,EAsCX;AACIL,EAAAA,IAAI,EAAE,kBADV;AAEIC,EAAAA,IAAI,EAAE,iBAFV;AAGIC,EAAAA,SAAS,EAAEL,cAHf;AAIIM,EAAAA,IAAI,EAAE;AACFE,IAAAA,MAAM,EAAE;AADN;AAJV,CAtCW,CAAf;AAgDA,IAAMC,MAAM,GAAG,IAAId,SAAJ,CAAc;AACzBe,EAAAA,IAAI,EAAE,SADmB;AAEzBC,EAAAA,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYC,QAFO;AAGzBZ,EAAAA,MAAM,EAANA;AAHyB,CAAd,CAAf;AAMAO,MAAM,CAACM,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AAClCC,EAAAA,OAAO,CAACC,GAAR,CAAYJ,EAAZ;AACAG,EAAAA,OAAO,CAACC,GAAR,CAAYH,IAAZ;;AACA,MAAInB,OAAO,CAACuB,KAAR,CAAcC,UAAd,IAA4BN,EAAE,CAACV,IAAH,CAAQC,qBAAxC,EAA+D;AAC3D,WAAOW,IAAI,CAAC,OAAD,CAAX;AACH,GAFD,MAEM,IAAG,CAACpB,OAAO,CAACuB,KAAR,CAAcC,UAAf,IAA6B,CAACN,EAAE,CAACV,IAAH,CAAQC,qBAAzC,EAA+D;AACjE,WAAOW,IAAI,CAAC,GAAD,CAAX;AACH;;AACD,SAAOA,IAAI,EAAX;AACH,CATD;AAYA,eAAeT,MAAf","sourcesContent":["import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport Home from '../views/Home.vue'\nimport Login from '../views/Login.vue'\nimport storage from '@/store';\nimport Estimate from \"../views/Estimate\";\nimport CreateEstimate from \"../views/Create-Estimate\";\n\nVue.use(VueRouter)\n\nconst routes = [\n    {\n        path: '/',\n        name: 'Login',\n        component: Login,\n        meta: {\n            requiresAuthorisation: true,\n            isBack: false\n        }\n    },\n    {\n        path: '/home',\n        name: 'Home',\n        component: Home,\n        meta: {\n            isBack: false\n        }\n    },\n    {\n        path: '/register',\n        name: 'Register',\n        // route level code-splitting\n        // this generates a separate chunk (about.[hash].js) for this route\n        // which is lazy-loaded when the route is visited.\n        component: () => import(/* webpackChunkName: \"about\" */ '../views/Register.vue'),\n        meta: {\n            requiresAuthorisation: true,\n            isBack: false\n        }\n    },\n    {\n        path: '/estimate',\n        name: 'Estimate',\n        component: Estimate,\n        meta: {\n            isBack: false\n        }\n    },\n    {\n        path: '/create-estimate',\n        name: 'Create-Estimate',\n        component: CreateEstimate,\n        meta: {\n            isBack: true\n        }\n    }\n]\n\nconst router = new VueRouter({\n    mode: 'history',\n    base: process.env.BASE_URL,\n    routes\n})\n\nrouter.beforeEach((to, from, next) => {\n    console.log(to);\n    console.log(from);\n    if (storage.state.activeUser && to.meta.requiresAuthorisation) {\n        return next('/home');\n    }else if(!storage.state.activeUser && !to.meta.requiresAuthorisation){\n        return next('/');\n    }\n    return next();\n})\n\n\nexport default router\n"]}]}