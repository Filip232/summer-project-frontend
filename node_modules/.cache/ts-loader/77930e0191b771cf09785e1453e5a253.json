{"remainingRequest":"C:\\Users\\Filip\\projects\\kosztorysy\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Filip\\projects\\kosztorysy\\node_modules\\ts-loader\\index.js??ref--14-2!C:\\Users\\Filip\\projects\\kosztorysy\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\Filip\\projects\\kosztorysy\\src\\router\\index.ts","dependencies":[{"path":"C:\\Users\\Filip\\projects\\kosztorysy\\src\\router\\index.ts","mtime":1596009665880},{"path":"C:\\Users\\Filip\\projects\\kosztorysy\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1593813924973},{"path":"C:\\Users\\Filip\\projects\\kosztorysy\\node_modules\\babel-loader\\lib\\index.js","mtime":1593813924945},{"path":"C:\\Users\\Filip\\projects\\kosztorysy\\node_modules\\ts-loader\\index.js","mtime":1593813939700},{"path":"C:\\Users\\Filip\\projects\\kosztorysy\\node_modules\\eslint-loader\\index.js","mtime":1593813938076}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IFZ1ZVJvdXRlciBmcm9tICd2dWUtcm91dGVyJzsKaW1wb3J0IEhvbWUgZnJvbSAnLi4vdmlld3MvSG9tZS52dWUnOwppbXBvcnQgTG9naW4gZnJvbSAnLi4vdmlld3MvTG9naW4udnVlJzsKaW1wb3J0IHN0b3JhZ2UgZnJvbSAnQC9zdG9yZSc7CmltcG9ydCBFc3RpbWF0ZSBmcm9tICIuLi92aWV3cy9Fc3RpbWF0ZS52dWUiOwppbXBvcnQgQ3JlYXRlRXN0aW1hdGUgZnJvbSAiLi4vdmlld3MvQ3JlYXRlLUVzdGltYXRlLnZ1ZSI7ClZ1ZS51c2UoVnVlUm91dGVyKTsKdmFyIHJvdXRlcyA9IFt7CiAgcGF0aDogJy8nLAogIG5hbWU6ICdMb2dpbicsCiAgY29tcG9uZW50OiBMb2dpbiwKICBtZXRhOiB7CiAgICByZXF1aXJlc0F1dGhvcmlzYXRpb246IHRydWUsCiAgICBpc0JhY2s6IGZhbHNlCiAgfQp9LCB7CiAgcGF0aDogJy9ob21lJywKICBuYW1lOiAnSG9tZScsCiAgY29tcG9uZW50OiBIb21lLAogIG1ldGE6IHsKICAgIGlzQmFjazogZmFsc2UKICB9Cn0sIHsKICBwYXRoOiAnL3JlZ2lzdGVyJywKICBuYW1lOiAnUmVnaXN0ZXInLAogIC8vIHJvdXRlIGxldmVsIGNvZGUtc3BsaXR0aW5nCiAgLy8gdGhpcyBnZW5lcmF0ZXMgYSBzZXBhcmF0ZSBjaHVuayAoYWJvdXQuW2hhc2hdLmpzKSBmb3IgdGhpcyByb3V0ZQogIC8vIHdoaWNoIGlzIGxhenktbG9hZGVkIHdoZW4gdGhlIHJvdXRlIGlzIHZpc2l0ZWQuCiAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICByZXR1cm4gaW1wb3J0KAogICAgLyogd2VicGFja0NodW5rTmFtZTogImFib3V0IiAqLwogICAgJy4uL3ZpZXdzL1JlZ2lzdGVyLnZ1ZScpOwogIH0sCiAgbWV0YTogewogICAgcmVxdWlyZXNBdXRob3Jpc2F0aW9uOiB0cnVlLAogICAgaXNCYWNrOiBmYWxzZQogIH0KfSwgewogIHBhdGg6ICcvZXN0aW1hdGUnLAogIG5hbWU6ICdFc3RpbWF0ZScsCiAgY29tcG9uZW50OiBFc3RpbWF0ZSwKICBtZXRhOiB7CiAgICBpc0JhY2s6IGZhbHNlCiAgfQp9LCB7CiAgcGF0aDogJy9jcmVhdGUtZXN0aW1hdGUnLAogIG5hbWU6ICdDcmVhdGUtRXN0aW1hdGUnLAogIGNvbXBvbmVudDogQ3JlYXRlRXN0aW1hdGUsCiAgbWV0YTogewogICAgaXNCYWNrOiB0cnVlCiAgfQp9XTsKdmFyIHJvdXRlciA9IG5ldyBWdWVSb3V0ZXIoewogIG1vZGU6ICdoaXN0b3J5JywKICBiYXNlOiBwcm9jZXNzLmVudi5CQVNFX1VSTCwKICByb3V0ZXM6IHJvdXRlcwp9KTsKcm91dGVyLmJlZm9yZUVhY2goZnVuY3Rpb24gKHRvLCBmcm9tLCBuZXh0KSB7CiAgaWYgKHN0b3JhZ2Uuc3RhdGUuYWN0aXZlVXNlci5pZCAhPT0gLTEgJiYgdG8ubWV0YS5yZXF1aXJlc0F1dGhvcmlzYXRpb24pIHsKICAgIHJldHVybiBuZXh0KCcvaG9tZScpOwogIH0gZWxzZSBpZiAoc3RvcmFnZS5zdGF0ZS5hY3RpdmVVc2VyLmlkID09PSAtMSAmJiAhdG8ubWV0YS5yZXF1aXJlc0F1dGhvcmlzYXRpb24pIHsKICAgIHJldHVybiBuZXh0KCcvJyk7CiAgfQoKICByZXR1cm4gbmV4dCgpOwp9KTsKZXhwb3J0IGRlZmF1bHQgcm91dGVyOw=="},{"version":3,"sources":["C:\\Users\\Filip\\projects\\kosztorysy\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\Filip\\projects\\kosztorysy\\src\\router\\index.ts"],"names":[],"mappings":";AAAA,OAAO,GAAP,MAAgB,KAAhB;AACA,OAAO,SAAP,MAAsB,YAAtB;AACA,OAAO,IAAP,MAAiB,mBAAjB;AACA,OAAO,KAAP,MAAkB,oBAAlB;AACA,OAAO,OAAP,MAAoB,SAApB;AACA,OAAO,QAAP,MAAqB,uBAArB;AACA,OAAO,cAAP,MAA2B,8BAA3B;AAEA,GAAG,CAAC,GAAJ,CAAQ,SAAR;AAEA,IAAM,MAAM,GAAG,CACX;AACI,EAAA,IAAI,EAAE,GADV;AAEI,EAAA,IAAI,EAAE,OAFV;AAGI,EAAA,SAAS,EAAE,KAHf;AAII,EAAA,IAAI,EAAE;AACF,IAAA,qBAAqB,EAAE,IADrB;AAEF,IAAA,MAAM,EAAE;AAFN;AAJV,CADW,EAUX;AACI,EAAA,IAAI,EAAE,OADV;AAEI,EAAA,IAAI,EAAE,MAFV;AAGI,EAAA,SAAS,EAAE,IAHf;AAII,EAAA,IAAI,EAAE;AACF,IAAA,MAAM,EAAE;AADN;AAJV,CAVW,EAkBX;AACI,EAAA,IAAI,EAAE,WADV;AAEI,EAAA,IAAI,EAAE,UAFV;AAGI;AACA;AACA;AACA,EAAA,SAAS,EAAE;AAAA,WAAM;AAAO;AAAgC,2BAAvC,CAAN;AAAA,GANf;AAOI,EAAA,IAAI,EAAE;AACF,IAAA,qBAAqB,EAAE,IADrB;AAEF,IAAA,MAAM,EAAE;AAFN;AAPV,CAlBW,EA8BX;AACI,EAAA,IAAI,EAAE,WADV;AAEI,EAAA,IAAI,EAAE,UAFV;AAGI,EAAA,SAAS,EAAE,QAHf;AAII,EAAA,IAAI,EAAE;AACF,IAAA,MAAM,EAAE;AADN;AAJV,CA9BW,EAsCX;AACI,EAAA,IAAI,EAAE,kBADV;AAEI,EAAA,IAAI,EAAE,iBAFV;AAGI,EAAA,SAAS,EAAE,cAHf;AAII,EAAA,IAAI,EAAE;AACF,IAAA,MAAM,EAAE;AADN;AAJV,CAtCW,CAAf;AAgDA,IAAM,MAAM,GAAG,IAAI,SAAJ,CAAc;AACzB,EAAA,IAAI,EAAE,SADmB;AAEzB,EAAA,IAAI,EAAE,OAAO,CAAC,GAAR,CAAY,QAFO;AAGzB,EAAA,MAAM,EAAN;AAHyB,CAAd,CAAf;AAMA,MAAM,CAAC,UAAP,CAAkB,UAAC,EAAD,EAAK,IAAL,EAAW,IAAX,EAAmB;AACjC,MAAK,OAAO,CAAC,KAAR,CAAc,UAAd,CAAyB,EAAzB,KAAgC,CAAC,CAAlC,IAAwC,EAAE,CAAC,IAAH,CAAQ,qBAApD,EAA2E;AACvE,WAAO,IAAI,CAAC,OAAD,CAAX;AACH,GAFD,MAEM,IAAG,OAAO,CAAC,KAAR,CAAc,UAAd,CAAyB,EAAzB,KAAgC,CAAC,CAAjC,IAAsC,CAAC,EAAE,CAAC,IAAH,CAAQ,qBAAlD,EAAwE;AAC1E,WAAO,IAAI,CAAC,GAAD,CAAX;AACH;;AACD,SAAO,IAAI,EAAX;AACH,CAPD;AAUA,eAAe,MAAf","sourcesContent":["import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport Home from '../views/Home.vue'\nimport Login from '../views/Login.vue'\nimport storage from '@/store';\nimport Estimate from \"../views/Estimate.vue\";\nimport CreateEstimate from \"../views/Create-Estimate.vue\";\n\nVue.use(VueRouter)\n\nconst routes = [\n    {\n        path: '/',\n        name: 'Login',\n        component: Login,\n        meta: {\n            requiresAuthorisation: true,\n            isBack: false\n        }\n    },\n    {\n        path: '/home',\n        name: 'Home',\n        component: Home,\n        meta: {\n            isBack: false\n        }\n    },\n    {\n        path: '/register',\n        name: 'Register',\n        // route level code-splitting\n        // this generates a separate chunk (about.[hash].js) for this route\n        // which is lazy-loaded when the route is visited.\n        component: () => import(/* webpackChunkName: \"about\" */ '../views/Register.vue'),\n        meta: {\n            requiresAuthorisation: true,\n            isBack: false\n        }\n    },\n    {\n        path: '/estimate',\n        name: 'Estimate',\n        component: Estimate,\n        meta: {\n            isBack: false\n        }\n    },\n    {\n        path: '/create-estimate',\n        name: 'Create-Estimate',\n        component: CreateEstimate,\n        meta: {\n            isBack: true\n        }\n    }\n]\n\nconst router = new VueRouter({\n    mode: 'history',\n    base: process.env.BASE_URL,\n    routes\n})\n\nrouter.beforeEach((to, from, next) => {\n    if ((storage.state.activeUser.id !== -1) && to.meta.requiresAuthorisation) {\n        return next('/home');\n    }else if(storage.state.activeUser.id === -1 && !to.meta.requiresAuthorisation){\n        return next('/');\n    }\n    return next();\n})\n\n\nexport default router\n"],"sourceRoot":""}]}