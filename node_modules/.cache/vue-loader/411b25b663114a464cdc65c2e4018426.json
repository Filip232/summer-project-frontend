{"remainingRequest":"C:\\Users\\Filip\\projects\\kosztorysy\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Filip\\projects\\kosztorysy\\src\\views\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Filip\\projects\\kosztorysy\\src\\views\\Login.vue","mtime":1595852816332},{"path":"C:\\Users\\Filip\\projects\\kosztorysy\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1593813924973},{"path":"C:\\Users\\Filip\\projects\\kosztorysy\\node_modules\\babel-loader\\lib\\index.js","mtime":1593813924945},{"path":"C:\\Users\\Filip\\projects\\kosztorysy\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1593813924973},{"path":"C:\\Users\\Filip\\projects\\kosztorysy\\node_modules\\vue-loader\\lib\\index.js","mtime":1594038038043}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBIZWFkZXIgZnJvbSAiLi4vY29tcG9uZW50cy9IZWFkZXIiOwppbXBvcnQge1ZhbGlkYXRpb25Qcm92aWRlciwgVmFsaWRhdGlvbk9ic2VydmVyfSBmcm9tICd2ZWUtdmFsaWRhdGUnOwppbXBvcnQge2V4dGVuZH0gZnJvbSAndmVlLXZhbGlkYXRlJzsKaW1wb3J0IHtyZXF1aXJlZH0gZnJvbSAndmVlLXZhbGlkYXRlL2Rpc3QvcnVsZXMnOwppbXBvcnQgbG9jYWxlIGZyb20gJ0AvYXNzZXRzL2xvY2FsZXMvcGwtUEwvbG9jYWxlLmpzb24nOwoKZXh0ZW5kKCdyZXF1aXJlZCcsIHJlcXVpcmVkKTsKCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICdMb2dpbicsCiAgICBjb21wb25lbnRzOiB7CiAgICAgICAgVmFsaWRhdGlvbk9ic2VydmVyLAogICAgICAgIFZhbGlkYXRpb25Qcm92aWRlciwKICAgICAgICBIZWFkZXIsCiAgICB9LAogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBlcnJvcnM6IFtdLAogICAgICAgICAgICB2aXNpYmxlbmFtZTogZmFsc2UsCiAgICAgICAgICAgIHZpc2libGVwYXNzd29yZDogZmFsc2UsCiAgICAgICAgICAgIGxvZ2luOiAnJywKICAgICAgICAgICAgcGFzc3dvcmQ6ICcnLAogICAgICAgICAgICBwYXNzd29yZDI6ICcnLAogICAgICAgICAgICBsb2NhbGUsCiAgICAgICAgICAgIGNvbnNvbGU6IGNvbnNvbGUubG9nLAoKICAgICAgICB9CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIGlucHV0Q2hlY2tlck5hbWUoKSB7CiAgICAgICAgICAgIGlmICh0aGlzLiRyZWZzLm5hbWVJbnB1dC52YWx1ZSkgewogICAgICAgICAgICAgICAgdGhpcy52aXNpYmxlbmFtZSA9IHRydWU7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aGlzLnZpc2libGVuYW1lID0gZmFsc2U7CiAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLm5hbWVJbnB1dC5wbGFjZWhvbGRlciA9IGxvY2FsZS5sb2dpbkxvZ2luOwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBpbnB1dENoZWNrZXJQYXNzd29yZCgpIHsKICAgICAgICAgICAgaWYgKHRoaXMuJHJlZnMucGFzc3dvcmRJbnB1dC52YWx1ZSkgewogICAgICAgICAgICAgICAgdGhpcy52aXNpYmxlcGFzc3dvcmQgPSB0cnVlOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdGhpcy52aXNpYmxlcGFzc3dvcmQgPSBmYWxzZTsKICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMucGFzc3dvcmRJbnB1dC5wbGFjZWhvbGRlciA9IGxvY2FsZS5sb2dpblBhc3N3b3JkOwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBmb2N1c05hbWUoKSB7CiAgICAgICAgICAgIHRoaXMudmlzaWJsZW5hbWUgPSB0cnVlOwogICAgICAgICAgICB0aGlzLiRyZWZzLm5hbWVJbnB1dC5wbGFjZWhvbGRlciA9ICcnOwogICAgICAgIH0sCiAgICAgICAgZm9jdXNQYXNzd29yZCgpIHsKICAgICAgICAgICAgdGhpcy52aXNpYmxlcGFzc3dvcmQgPSB0cnVlOwogICAgICAgICAgICB0aGlzLiRyZWZzLnBhc3N3b3JkSW5wdXQucGxhY2Vob2xkZXIgPSAnJzsKICAgICAgICB9LAogICAgICAgIG9uU3VibWl0KCkgewogICAgICAgICAgICBsZXQgaXNWYWxpZCA9IGZhbHNlCiAgICAgICAgICAgIHRoaXMuJHJlZnMubG9naW5mb3JtLnZhbGlkYXRlKCkudGhlbihzdWNjZXNzID0+IHsKICAgICAgICAgICAgICAgIGlmICghc3VjY2VzcykgewogICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy4kc3RvcmUuc3RhdGUuYWNjb3VudHMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy4kc3RvcmUuc3RhdGUuYWNjb3VudHNbaV0uZW1haWwgPT09IHRoaXMubG9naW4gJiYgdGhpcy4kc3RvcmUuc3RhdGUuYWNjb3VudHNbaV0ucGFzc3dvcmQgPT09IHRoaXMucGFzc3dvcmQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdhY3RpdmVVc2VyJywgdGhpcy5sb2dpbiwgaSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvaG9tZScpOwogICAgICAgICAgICAgICAgICAgICAgICBpc1ZhbGlkID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoIWlzVmFsaWQpIHsKICAgICAgICAgICAgICAgICAgICBhbGVydCgnTG9naW4gb3IgcGFzc3dvcmQgaXMgaW52YWxpZCcpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICB9LAp9Cg=="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyCA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div>\n        <Header :title=\"locale.loginTitle\"></Header>\n        <validation-observer ref=\"loginform\" class=\"d-f-c p-t-35\">\n            <form novalidate=\"true\" @submit.prevent=\"onSubmit\" class=\"d-f--c-c\">\n                <validation-provider rules=\"required\" v-slot=\"{ errors }\" class=\"d-f--c-c m-b-5\">\n                    <label for=\"name\" class=\"font-12 color-transparent\"\n                           :class=\"{ 'color-8e8e8e' : visiblename }\">{{ locale.loginLogin }}</label>\n                    <input type=\"text\" :placeholder=\"locale.loginLogin\" id=\"name\" v-model=\"login\" ref=\"nameInput\"\n                           @focus=\"focusName\"\n                           @blur=\"inputCheckerName\"\n                           class=\"login-input bg-f8f8f8 font-16\" :class=\"{'m-b-10' : !errors[0]}\">\n                    <span class=\"color-d63c00 font-10 align-self-fe\">{{ errors[0] }}</span>\n                </validation-provider>\n                <validation-provider rules=\"required\" v-slot=\"{ errors }\" class=\"d-f--c-c m-b-30\">\n                    <label for=\"password\" class=\"font-12 color-transparent\"\n                           :class=\"{'color-8e8e8e' : visiblepassword}\">{{ locale.loginPassword }}</label>\n                    <input type=\"password\" :placeholder=\"locale.loginPassword\" id=\"password\" v-model=\"password\"\n                           ref=\"passwordInput\"\n                           @focus=\"focusPassword\" @blur=\"inputCheckerPassword\"\n                           class=\"login-input bg-f8f8f8 font-16\" :class=\"{'m-b-10' : !errors[0]}\">\n                    <span class=\"color-d63c00 font-10 align-self-fe\">{{ errors[0] }}</span>\n                </validation-provider>\n                <div>\n                    <router-link to=\"\" class=\"font-12 color-8e8e8e\">{{ locale.loginForgotPassword }}</router-link>\n                    <button type=\"submit\" value=\"Submit\" id=\"submit\"\n                            class=\"bg-fcc833 font-20 color-ffffff m-l-30 login-button\">{{ locale.loginSignIn}}\n                    </button>\n                </div>\n            </form>\n        </validation-observer>\n        <div class=\"d-f--c-c m-t-30\">\n            <span class=\"font-12 color-8e8e8e\">{{ locale.loginNoAccount }}</span>\n            <router-link to=\"/register\" class=\"font-16 bg-f8f8f8 login-button d-c-c color-8e8e8e m-t-15\">\n                {{ locale.loginSignUp }}\n            </router-link>\n        </div>\n    </div>\n</template>\n\n<script>\n    import Header from \"../components/Header\";\n    import {ValidationProvider, ValidationObserver} from 'vee-validate';\n    import {extend} from 'vee-validate';\n    import {required} from 'vee-validate/dist/rules';\n    import locale from '@/assets/locales/pl-PL/locale.json';\n\n    extend('required', required);\n\n    export default {\n        name: 'Login',\n        components: {\n            ValidationObserver,\n            ValidationProvider,\n            Header,\n        },\n        data() {\n            return {\n                errors: [],\n                visiblename: false,\n                visiblepassword: false,\n                login: '',\n                password: '',\n                password2: '',\n                locale,\n                console: console.log,\n\n            }\n        },\n        methods: {\n            inputCheckerName() {\n                if (this.$refs.nameInput.value) {\n                    this.visiblename = true;\n                } else {\n                    this.visiblename = false;\n                    this.$refs.nameInput.placeholder = locale.loginLogin;\n                }\n            },\n            inputCheckerPassword() {\n                if (this.$refs.passwordInput.value) {\n                    this.visiblepassword = true;\n                } else {\n                    this.visiblepassword = false;\n                    this.$refs.passwordInput.placeholder = locale.loginPassword;\n                }\n            },\n            focusName() {\n                this.visiblename = true;\n                this.$refs.nameInput.placeholder = '';\n            },\n            focusPassword() {\n                this.visiblepassword = true;\n                this.$refs.passwordInput.placeholder = '';\n            },\n            onSubmit() {\n                let isValid = false\n                this.$refs.loginform.validate().then(success => {\n                    if (!success) {\n                        return;\n                    }\n                    for (let i = 0; i < this.$store.state.accounts.length; i++) {\n                        if (this.$store.state.accounts[i].email === this.login && this.$store.state.accounts[i].password === this.password) {\n                            this.$store.commit('activeUser', this.login, i);\n                            this.$router.push('/home');\n                            isValid = true;\n                        }\n                    }\n                    if (!isValid) {\n                        alert('Login or password is invalid');\n                    }\n                })\n            },\n        },\n    }\n</script>\n\n<style scoped lang=\"scss\">\n\n    .login-input {\n        height: 30px;\n        width: 185px;\n        color: #808080;\n        border: none;\n        text-align: center;\n    }\n\n    .login-button {\n        height: 40px;\n        width: 125px;\n        border: none;\n        text-align: center;\n        vertical-align: middle;\n        cursor: pointer;\n    }\n\n</style>\n"]}]}