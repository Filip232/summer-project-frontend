{"remainingRequest":"C:\\Users\\Filip\\projects\\kosztorysy\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Filip\\projects\\kosztorysy\\src\\views\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Filip\\projects\\kosztorysy\\src\\views\\Login.vue","mtime":1597218043442},{"path":"C:\\Users\\Filip\\projects\\kosztorysy\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1593813924973},{"path":"C:\\Users\\Filip\\projects\\kosztorysy\\node_modules\\babel-loader\\lib\\index.js","mtime":1593813924945},{"path":"C:\\Users\\Filip\\projects\\kosztorysy\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1593813924973},{"path":"C:\\Users\\Filip\\projects\\kosztorysy\\node_modules\\vue-loader\\lib\\index.js","mtime":1594038038043}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBIZWFkZXIgZnJvbSAiLi4vY29tcG9uZW50cy9IZWFkZXIiOwppbXBvcnQge1ZhbGlkYXRpb25Qcm92aWRlciwgVmFsaWRhdGlvbk9ic2VydmVyfSBmcm9tICd2ZWUtdmFsaWRhdGUnOwppbXBvcnQge2V4dGVuZH0gZnJvbSAndmVlLXZhbGlkYXRlJzsKaW1wb3J0IHtyZXF1aXJlZH0gZnJvbSAndmVlLXZhbGlkYXRlL2Rpc3QvcnVsZXMnOwppbXBvcnQgbG9jYWxlIGZyb20gJ0AvYXNzZXRzL2xvY2FsZXMvcGwtUEwvbG9jYWxlLmpzb24nOwoKZXh0ZW5kKCdyZXF1aXJlZCcsIHJlcXVpcmVkKTsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnTG9naW4nLAogIGNvbXBvbmVudHM6IHsKICAgIFZhbGlkYXRpb25PYnNlcnZlciwKICAgIFZhbGlkYXRpb25Qcm92aWRlciwKICAgIEhlYWRlciwKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBlcnJvcnM6IFtdLAogICAgICB2aXNpYmxlbmFtZTogZmFsc2UsCiAgICAgIHZpc2libGVwYXNzd29yZDogZmFsc2UsCiAgICAgIGxvZ2luOiAnJywKICAgICAgcGFzc3dvcmQ6ICcnLAogICAgICBsb2NhbGUsCiAgICAgIGNvbnNvbGU6IGNvbnNvbGUubG9nLAogICAgICBuYW1lSW5wdXRQbGFjZWhvbGRlcjogbG9jYWxlLmxvZ2luTG9naW4sCiAgICAgIHBhc3N3b3JkSW5wdXRQbGFjZWhvbGRlcjogbG9jYWxlLmxvZ2luUGFzc3dvcmQKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGlucHV0Q2hlY2tlck5hbWUoKSB7CiAgICAgIGlmICh0aGlzLmxvZ2luKSB7CiAgICAgICAgdGhpcy52aXNpYmxlbmFtZSA9IHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy52aXNpYmxlbmFtZSA9IGZhbHNlOwogICAgICAgIHRoaXMubmFtZUlucHV0UGxhY2Vob2xkZXIgPSBsb2NhbGUubG9naW5Mb2dpbjsKICAgICAgfQogICAgfSwKICAgIGlucHV0Q2hlY2tlclBhc3N3b3JkKCkgewogICAgICBpZiAodGhpcy5wYXNzd29yZCkgewogICAgICAgIHRoaXMudmlzaWJsZXBhc3N3b3JkID0gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnZpc2libGVwYXNzd29yZCA9IGZhbHNlOwogICAgICAgIHRoaXMucGFzc3dvcmRJbnB1dFBsYWNlaG9sZGVyID0gbG9jYWxlLmxvZ2luUGFzc3dvcmQ7CiAgICAgIH0KICAgIH0sCiAgICBmb2N1c05hbWUoKSB7CiAgICAgIHRoaXMudmlzaWJsZW5hbWUgPSB0cnVlOwogICAgICB0aGlzLm5hbWVJbnB1dFBsYWNlaG9sZGVyID0gJyc7CiAgICB9LAogICAgZm9jdXNQYXNzd29yZCgpIHsKICAgICAgdGhpcy52aXNpYmxlcGFzc3dvcmQgPSB0cnVlOwogICAgICB0aGlzLnBhc3N3b3JkSW5wdXRQbGFjZWhvbGRlciA9ICcnOwogICAgfSwKICAgIG9uU3VibWl0KCkgewogICAgICBsZXQgaXNWYWxpZCA9IGZhbHNlCiAgICAgIHRoaXMuJHJlZnMubG9naW5mb3JtLnZhbGlkYXRlKCkudGhlbihhc3luYyBzdWNjZXNzID0+IHsKICAgICAgICBpZiAoIXN1Y2Nlc3MpIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdnZXRMb2dpbicsIHtsb2dpbjogdGhpcy5sb2dpbiwgcGFzc3dvcmQ6IHRoaXMucGFzc3dvcmR9KTsKICAgICAgICBpZiAoZGF0YSkgewogICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdhY3RpdmVVc2VyJywge3VzZXI6IHRoaXMubG9naW4sIGlkOiA3fSk7CiAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL2hvbWUnKTsKICAgICAgICAgIGlzVmFsaWQgPSB0cnVlOwogICAgICAgIH0KICAgICAgICBpZiAoIWlzVmFsaWQpIHsKICAgICAgICAgIGFsZXJ0KCdMb2dpbiBvciBwYXNzd29yZCBpcyBpbnZhbGlkJyk7CiAgICAgICAgfQogICAgICB9KQogICAgfSwKICB9LAp9Cg=="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <Header :title=\"locale.loginTitle\"></Header>\n    <validation-observer ref=\"loginform\" class=\"d-f-c p-t-35\">\n      <form novalidate=\"true\" @submit.prevent=\"onSubmit\" class=\"d-f--c-c\">\n        <validation-provider rules=\"required\" v-slot=\"{ errors }\" class=\"d-f--c-c m-b-5\">\n          <label for=\"name\" class=\"font-12 color-transparent\"\n                 :class=\"{ 'color-8e8e8e' : visiblename }\">{{ locale.loginLogin }}</label>\n          <input type=\"text\" :placeholder=\"nameInputPlaceholder\" id=\"name\" v-model=\"login\"\n                 @focus=\"focusName\"\n                 @blur=\"inputCheckerName\"\n                 class=\"login-input bg-f8f8f8 font-16\" :class=\"{'m-b-10' : !errors[0]}\">\n          <span class=\"color-d63c00 font-10 align-self-fe\">{{ errors[0] }}</span>\n        </validation-provider>\n        <validation-provider rules=\"required\" v-slot=\"{ errors }\" class=\"d-f--c-c m-b-30\">\n          <label for=\"password\" class=\"font-12 color-transparent\"\n                 :class=\"{'color-8e8e8e' : visiblepassword}\">{{ locale.loginPassword }}</label>\n          <input type=\"password\" :placeholder=\"passwordInputPlaceholder\" id=\"password\" v-model=\"password\"\n                 @focus=\"focusPassword\" @blur=\"inputCheckerPassword\"\n                 class=\"login-input bg-f8f8f8 font-16\" :class=\"{'m-b-10' : !errors[0]}\">\n          <span class=\"color-d63c00 font-10 align-self-fe\">{{ errors[0] }}</span>\n        </validation-provider>\n        <div>\n          <router-link to=\"\" class=\"font-12 color-8e8e8e\">{{ locale.loginForgotPassword }}</router-link>\n          <button type=\"submit\" value=\"Submit\" id=\"submit\"\n                  class=\"bg-fcc833 font-20 color-ffffff m-l-30 login-button\">{{ locale.loginSignIn }}\n          </button>\n        </div>\n      </form>\n    </validation-observer>\n    <div class=\"d-f--c-c m-t-30\">\n      <span class=\"font-12 color-8e8e8e\">{{ locale.loginNoAccount }}</span>\n      <router-link to=\"/register\" class=\"font-16 bg-f8f8f8 login-button d-f-c-c color-8e8e8e m-t-15\">\n        {{ locale.loginSignUp }}\n      </router-link>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Header from \"../components/Header\";\nimport {ValidationProvider, ValidationObserver} from 'vee-validate';\nimport {extend} from 'vee-validate';\nimport {required} from 'vee-validate/dist/rules';\nimport locale from '@/assets/locales/pl-PL/locale.json';\n\nextend('required', required);\n\nexport default {\n  name: 'Login',\n  components: {\n    ValidationObserver,\n    ValidationProvider,\n    Header,\n  },\n  data() {\n    return {\n      errors: [],\n      visiblename: false,\n      visiblepassword: false,\n      login: '',\n      password: '',\n      locale,\n      console: console.log,\n      nameInputPlaceholder: locale.loginLogin,\n      passwordInputPlaceholder: locale.loginPassword\n    }\n  },\n  methods: {\n    inputCheckerName() {\n      if (this.login) {\n        this.visiblename = true;\n      } else {\n        this.visiblename = false;\n        this.nameInputPlaceholder = locale.loginLogin;\n      }\n    },\n    inputCheckerPassword() {\n      if (this.password) {\n        this.visiblepassword = true;\n      } else {\n        this.visiblepassword = false;\n        this.passwordInputPlaceholder = locale.loginPassword;\n      }\n    },\n    focusName() {\n      this.visiblename = true;\n      this.nameInputPlaceholder = '';\n    },\n    focusPassword() {\n      this.visiblepassword = true;\n      this.passwordInputPlaceholder = '';\n    },\n    onSubmit() {\n      let isValid = false\n      this.$refs.loginform.validate().then(async success => {\n        if (!success) {\n          return;\n        }\n        const data = await this.$store.dispatch('getLogin', {login: this.login, password: this.password});\n        if (data) {\n          this.$store.commit('activeUser', {user: this.login, id: 7});\n          this.$router.push('/home');\n          isValid = true;\n        }\n        if (!isValid) {\n          alert('Login or password is invalid');\n        }\n      })\n    },\n  },\n}\n</script>\n\n<style scoped lang=\"scss\">\n\n.login-input {\n  height: 30px;\n  width: 185px;\n  color: #808080;\n  border: none;\n  text-align: center;\n}\n\n.login-button {\n  height: 40px;\n  width: 125px;\n  border: none;\n  text-align: center;\n  vertical-align: middle;\n  cursor: pointer;\n}\n\n</style>\n"]}]}